# 第1部

## 第1章
- サイクル
  - 小さいテストを1つ書く
  - すべてのテストを実行し、1つ失敗することを確認する
  - 小さい変更を行う
  - 再びテストを実行し、すべて成功することを確認する
  - リファクタリングを行い、重複を除去する

## 第2章
- TDD の3つの戦略
  - 仮実装
  - 明白な実装
  - 三角測量
- 第1章では仮実装を行った
  - べた書きの値でとりあえずテストを通す
  - テストが通ったらリファクタリングしていく
- 第2章では明白な実装
  - すぐに実装していく
  - 実装すべきことが分かっているならこちらでよさそう

## 第3章
- 三角測量
  - テストケースを追加して、複数のテストが同時に通るように一般化する方法？

## 第4章

## 第5章
- サイクルの初めは綺麗さよりも速度が大事
  - テストを書いて落ちることを確認するまで
- 小さく始める

## 第6章
- 歯の健康のためにリファクタリングは大事
> リファクタリングが無ければ設計は次第に腐り、あなたは職や家族を失い、健康に気をつかわなくなり、虫歯になる。つまり、歯の健康のためには、遡ってテストをリファクタリングの前に書かなければならないわけだ。(p.38)

## 第7章
- `expect(five.times(2)).to eq(Dollar.new(10))` のようなテストが落ちる
  - `Dollar` と `Integer` の比較が途中で走り、下の実装の `&&` の後の条件を満たせないため死ぬ
  - `self` が `Dollar` になり、 `other` が `Integer` になる

```ruby
  def ==(other)
    return false unless other.is_a?(Money)

    @amount == Money.new(other).amount && self.class == other.class
  end
```

↑ `Money.new(other)` が間違い。 `other.amount` で良かった

## 第8章
- Factory Method パターン
  - オブジェクトの作成に柔軟性を持たせたいときに使うとよい？
    - 異なるクラスのオブジェクトを返したいときなど
  - 柔軟性が不要ならコンストラクタで十分

## 第9章
- 変更の粒度はその時々に応じて変えてよい
  - 変更が大きすぎると感じるなら少しずつ、実装できる確信があるほどのサイズならそのまま

## 第10章
- 丁寧にやるなら、レッドバーの状態でテストは追加しない
  - 変更を巻き戻してグリーンの状態でテストを追加する

## 第11章
- 不要なテストは消そう

## 第12章

## 第13章
- テストを通すためなら悪臭を放つコードでも構わない
  - もちろんテストが通ったらちゃんとリファクタリングする

## 第14章
- 学習用テスト
  - 処理系やライブラリなどの動作を確認するために動かすテスト？
    - この比較は何を返すのか
    - このメソッドはこう書いて動くのか
    - みたいな？
- 回帰テスト
  - 本来コードを書いたときに書かれるべきだったテスト

## 第15章
- buck
  - 1ドルという意味らしい
  - かつて物々交換に用いられていた鹿の革（buckskin）が由来らしい
- Composite パターン
  - 木構造を表すのに良さそう

## 第16章
- > テストを書くのは、（中略）今考えていることを将来の仲間に伝えるロゼッタストーンの役割も担ってほしいからだ。
  - 読む人のことを考える
- `to be_instance_of`
  - RSpec のマッチャ
