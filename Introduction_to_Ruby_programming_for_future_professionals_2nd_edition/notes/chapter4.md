## 第4章
### 配列
- 存在しない添え字を指定すると返り値は `nil`
  - 例外ではない
- 添え字をつけて代入可能
  - `array[10] = 20`
  - 元の要素数より大きい場合、間は `nil` で埋まる
- `<<` で追加
- `delete_at(n)`
  - `n` 番目の要素を削除
  - 返り値は削除した値
  - 要素が無ければ `nil` が返る
- 多重代入できる
  - 変数が多ければ `nil`
  - 少なければ無視される
  - 変数に `*` を付けると、まとめて配列で受け取る
- `array[1, 3]`
  - 1番目から3つ分の要素を取得
- 添え字には負の値も指定可能
  - 後ろから数える
- 集合
  - `|` で和集合
  - `-` で差集合
  - `&` で積集合
- `Set` クラスもあるらしい
- 配列を展開してメソッドに渡す
  - `*` を付ける
  - `a.push(*b)`
- デフォルト値を渡す
  - `Array.new(5, 0)`
    - `[0, 0, 0, 0, 0]`
  - 同じオブジェクトを参照してしまうため、文字列などには使えない
    - その場合はブロックを使う
    - `Array.new(5) { 'default' }`
  - 文字列はミュータブルらしい

### ブロック
- 処理の塊
- ブロックを渡すメソッドの例
  - `delete_if`
    - ブロックを渡して、条件に合う要素を配列から削除
  - `map`
    - 配列内の要素に対して処理し、返り値を集めた配列を作る
  - `select`
    - 真のもののみを集める
  - `reject`
    - `select` の逆
- 添え字付きの繰り返し
  - `each_with_index`
    - 要素とインデックス
  - `each` 以外では `with_index` メソッドを呼び出す
    - `array.map.with_index { ... }`
    - 引数を渡せば開始番号を変更可能

### Range
- `..` は後ろが閉区間、 `...` は後ろが開区間
- スライス的な使い方
  - `array[2..4]`
- `case` で使うなど
- 配列を作る
  - `[*1..5]`
    - こんな書き方がある

### その他の繰り返し
- `while`
  - `begin ... end while 条件` で、ブロック内を最低1回実行
- `until`
  - `while not`
- `for`
  - Python 的な使い方
  - `for item in enumerable`
  - `for` はスコープを作らない
- `loop`
  - `while true`
- 抜けるとき
  - `break`
  - `throw` と `catch`
    - `Kernel` モジュール
    - 例外とは関係ない
    - `throw` でシンボルを指定すると、 `catch` まで行く
    - 一致するシンボルがないとエラー
  - `next`
    - `continue` 的な
  - `redo`
    - そのループをやり直す
